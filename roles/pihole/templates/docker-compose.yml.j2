# {{ ansible_managed }}
---
version: "3"

services:
  pihole:
    image: "{{ pihole_docker_image }}"
    container_name: pihole
    restart: unless-stopped
    env_file:
      - path: "{{ pihole_docker_path }}/pihole.env"
        required: false
    ports:
      - "80:80/tcp"
      - "53:53/tcp"
      - "53:53/udp"
    volumes:
      - "/etc/localtime:/etc/localtime:ro"
      - "{{ pihole_docker_path }}/backups:/backups:rw"
      - "{{ pihole_docker_path }}/etc-pihole:/etc/pihole:rw"
      - "{{ pihole_docker_path }}/etc-dnsmasq.d:/etc/dnsmasq.d:rw"
